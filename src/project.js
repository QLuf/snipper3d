window.__require=function t(e,o,n){function c(a,r){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var l="function"==typeof __require&&__require;if(!r&&l)return l(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var d=o[a]={exports:{}};e[a][0].call(d.exports,function(t){return c(e[a][1][t]||t)},d,d.exports,t,e,o,n)}return o[a].exports}for(var i="function"==typeof __require&&__require,a=0;a<n.length;a++)c(n[a]);return c}({AIEnemyMoveTo:[function(t,e,o){"use strict";cc._RF.push(e,"a7905QKVMRICa5bdm0HZqbD","AIEnemyMoveTo"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],AIEnemy:[function(t,e,o){"use strict";cc._RF.push(e,"9b89dySkZRDHYlSQNEsL1lN","AIEnemy"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayFirstMove=1,e.durationMove=0,e.durationRotate=0,e.delaymoveLoop=2,e.boolMoveLeft=!0,e.boolMoveRight=!1,e.xToMove=0,e.yToMove=0,e.xOriginal=0,e.yOriginal=0,e.currentX=0,e.currentY=0,e.delayTime=!1,e.degreeRotate=0,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.xOriginal=this.node.x,this.yOriginal=this.node.y,this.currentX=this.xToMove,this.currentY=this.yToMove,this.scheduleOnce(function(){t.delayTime=!0},this.delayFirstMove)},e.prototype.update=function(){var t=this;this.delayTime&&(this.boolMoveLeft&&(this.boolMoveLeft=!1,this.degreeRotate=this.betweenDegree(cc.v2(this.node.x,this.node.y),cc.v2(this.currentX,this.currentY))-90,this.node.runAction(cc.rotate3DTo(.4,new cc.Vec3(-90,180,-this.degreeRotate))),this.node.getComponent(cc.SkeletonAnimation).play("Run"),this.node.runAction(cc.sequence(cc.moveTo(this.durationMove,cc.v2(this.currentX,this.currentY)),cc.callFunc(function(){t.node.getComponent(cc.SkeletonAnimation).play("Take 001")}))),this.scheduleOnce(function(){t.currentX=t.xOriginal,t.currentY=t.yOriginal,t.boolMoveRight=!0},this.delaymoveLoop)),this.boolMoveRight&&(this.boolMoveRight=!1,this.degreeRotate=this.betweenDegree(cc.v2(this.node.x,this.node.y),cc.v2(this.currentX,this.currentY))-90,this.node.runAction(cc.rotate3DTo(.4,new cc.Vec3(-90,180,-this.degreeRotate))),this.node.getComponent(cc.SkeletonAnimation).play("Run"),this.node.runAction(cc.sequence(cc.moveTo(this.durationMove,cc.v2(this.currentX,this.currentY)),cc.callFunc(function(){t.node.getComponent(cc.SkeletonAnimation).play("Take 001")}))),this.scheduleOnce(function(){t.currentX=t.xToMove,t.currentY=t.yToMove,t.boolMoveLeft=!0},this.delaymoveLoop)))},e.prototype.betweenDegree=function(t,e){return 180*Math.atan2(e.y-t.y,e.x-t.x)/Math.PI},__decorate([i(Number)],e.prototype,"delayFirstMove",void 0),__decorate([i(Number)],e.prototype,"durationMove",void 0),__decorate([i(Number)],e.prototype,"durationRotate",void 0),__decorate([i(Number)],e.prototype,"delaymoveLoop",void 0),__decorate([i(Boolean)],e.prototype,"boolMoveLeft",void 0),__decorate([i(Boolean)],e.prototype,"boolMoveRight",void 0),__decorate([i(Number)],e.prototype,"xToMove",void 0),__decorate([i(Number)],e.prototype,"yToMove",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],AdManager:[function(t,e,o){"use strict";cc._RF.push(e,"c2c72vbRbhI2puCh8Udlt6e","AdManager"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink,window.openAdUrl?window.openAdUrl():window.open()}}),cc._RF.pop()},{}],BulletAnimEvent:[function(t,e,o){"use strict";cc._RF.push(e,"3a4aeMmAbZFQ5V6Z4OI2nf8","BulletAnimEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./BulletControl"),c=t("./CharacterControl"),i=t("./GunAnimManager"),a=t("./UIManager"),r=cc._decorator,s=r.ccclass,l=r.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.anim=null,e.mainCam=null,e.bulletCam=null,e.bulletAnim=null,e.bulletRender=null,e.gunAnimManager=null,e.charControl=null,e.bulletControl=null,e.efx=null,e}return __extends(e,t),e.prototype.onLoad=function(){cc.director.getPhysics3DManager().enabled=!0},e.prototype.start=function(){cc.director.getPhysics3DManager().enabled=!0;var t=cc.winSize.height,e=cc.winSize.width;this.node.scale=t>e?.8:1},e.prototype.update=function(t){},e.prototype.onShoot=function(){var t=this;this.charControl.isZoom?this.zombieRayCheck()?(this.efx.active=!0,this.mainCam.node.active=!1,a.default.instance.toggleUI(!1),a.default.instance.tapText.active=!1,a.default.instance.dragZoomText.active=!1,a.default.instance.dragText.active=!1,this.bulletControl.isInFlight=!0,this.scheduleOnce(function(){t.anim.active=!0},.1),c.default.instance.muzzleEffect.active=!0,c.default.instance.showGun()):this.shootMiss():(a.default.instance.zoomSlider.progress=.05,a.default.instance.gunScope.active=!0,c.default.instance.hideGun(),c.default.instance.isZoom=!0)},e.prototype.zombieRayCheck=function(){var t=!1,e=new cc.Vec2(cc.winSize.width/2,cc.winSize.height/2);console.log(e.x,e.y);var o=this.mainCam.getRay(e),n=cc.director.getPhysics3DManager().raycastClosest(o,"Zombie",1e3,!1);return n&&(console.log(n),"Zombie"==n.collider.node.name&&(t=!0)),t},e.prototype.shootMiss=function(){},__decorate([l(cc.Node)],e.prototype,"anim",void 0),__decorate([l(cc.Camera)],e.prototype,"mainCam",void 0),__decorate([l(cc.Node)],e.prototype,"bulletCam",void 0),__decorate([l(cc.Animation)],e.prototype,"bulletAnim",void 0),__decorate([l(cc.Node)],e.prototype,"bulletRender",void 0),__decorate([l(i.default)],e.prototype,"gunAnimManager",void 0),__decorate([l(c.default)],e.prototype,"charControl",void 0),__decorate([l(n.default)],e.prototype,"bulletControl",void 0),__decorate([l(cc.Node)],e.prototype,"efx",void 0),e=__decorate([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./BulletControl":"BulletControl","./CharacterControl":"CharacterControl","./GunAnimManager":"GunAnimManager","./UIManager":"UIManager"}],BulletCameraFollow:[function(t,e,o){"use strict";cc._RF.push(e,"8a5f3GydR9EE60zZbf96bLD","BulletCameraFollow"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.target=null,e.offset=new cc.Vec3,e.smooth=0,e.lookAt=!1,e}return __extends(e,t),e.prototype.start=function(){cc.Vec3.subtract(this.offset,this.node.position,this.target.position)},e.prototype.update=function(t){},e.prototype.lateUpdate=function(t){var e=new cc.Vec3;cc.Vec3.add(e,this.target.position,this.offset),this.node.position=this.node.position.lerp(e,this.smooth),this.lookAt&&this.node.lookAt(this.target.position,cc.Vec3.UP)},__decorate([i(cc.Node)],e.prototype,"target",void 0),__decorate([i(cc.Vec3)],e.prototype,"offset",void 0),__decorate([i],e.prototype,"smooth",void 0),__decorate([i],e.prototype,"lookAt",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],BulletControl:[function(t,e,o){"use strict";cc._RF.push(e,"48db4l9g+tErbXG2+yi0oja","BulletControl"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./UIManager"),c=cc._decorator,i=c.ccclass,a=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bullet=null,e.bulletRender=null,e.countdownUI=null,e.isInFlight=!1,e.bulletAnimDuration=2.5,e.currentTimeScale=.5,e}return __extends(e,t),e.prototype.start=function(){},e.prototype.update=function(t){},e.prototype.hideBullet=function(){this.bulletRender.active=!1,console.log("hide bullet")},e.prototype.showFailureUI=function(){console.log("show failure"),n.default.instance.failureUI.active=!0,this.countdownUI.destroy()},__decorate([a(cc.Node)],e.prototype,"bullet",void 0),__decorate([a(cc.Node)],e.prototype,"bulletRender",void 0),__decorate([a(cc.Node)],e.prototype,"countdownUI",void 0),__decorate([a],e.prototype,"bulletAnimDuration",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{"./UIManager":"UIManager"}],CameraFollow:[function(t,e,o){"use strict";cc._RF.push(e,"1457aQCIhtGXrmhapFuGln3","CameraFollow"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Common/Global"),c=t("../GamePlay/HAS2GamePlay"),i=cc._decorator,a=i.ccclass,r=(i.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gameplayInstance=null,e.cameraOffsetX=0,e.cameraOffsetY=0,e.cameraOffsetZ=0,e.Target=null,e}return __extends(e,t),e.prototype.start=function(){this.gameplayInstance=c.default.Instance(c.default),this.cameraOffsetX=this.node.x-250.073,this.cameraOffsetY=this.node.y-0,this.cameraOffsetZ=this.node.z-616.286},e.prototype.update=function(){if(n.default.boolStartPlay)if(n.default.boolendG){for(var t=0;t<this.gameplayInstance.EnemyParent.childrenCount;t++)this.Target=this.gameplayInstance.EnemyParent.children[t];this.resetOffset(),this.node.x=cc.misc.lerp(this.node.x,this.Target.x/2,.2),this.node.y=cc.misc.lerp(this.node.y,this.Target.y+this.cameraOffsetY,.2),this.node.z=cc.misc.lerp(this.node.z,this.Target.z+this.cameraOffsetZ,.2)}else this.node.x=cc.misc.lerp(this.node.x,this.gameplayInstance.MyCharacter.x+this.cameraOffsetX,.2),this.node.y=cc.misc.lerp(this.node.y,this.gameplayInstance.MyCharacter.y+this.cameraOffsetY,.2),this.node.z=cc.misc.lerp(this.node.z,this.gameplayInstance.MyCharacter.z+this.cameraOffsetZ,.2)},e.prototype.resetOffset=function(){this.cameraOffsetX=this.node.x-this.Target.x,this.cameraOffsetY=this.node.y-this.Target.y,this.cameraOffsetZ=this.node.z-this.Target.z},e=__decorate([a],e)}(cc.Component));o.default=r,cc._RF.pop()},{"../Common/Global":void 0,"../GamePlay/HAS2GamePlay":"HAS2GamePlay"}],CanvasTouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"346f4PpxzRJ5ZIpy7RvYtjk","CanvasTouchManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),c=t("./UIManager"),i=t("./CharacterControl"),a=cc._decorator,r=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchStart=function(t){n.default.touchPos=this.node.convertToNodeSpaceAR(t.getLocation()),i.default.instance.isZoom||c.default.instance.toggleUI(!0)},e.prototype.onTouchMove=function(t){n.default.touchPos=this.node.convertToNodeSpaceAR(t.getLocation())},e.prototype.onTouchEnd=function(t){n.default.touchPos=this.node.convertToNodeSpaceAR(t.getLocation())},e.prototype.onTouchCancel=function(t){n.default.touchPos=this.node.convertToNodeSpaceAR(t.getLocation())},e=__decorate([r],e)}(cc.Component));o.default=s,cc._RF.pop()},{"./CharacterControl":"CharacterControl","./Global":void 0,"./UIManager":"UIManager"}],CanvasTouch:[function(t,e,o){"use strict";cc._RF.push(e,"754ccQOBZNE+41kBFXn0nhw","CanvasTouch"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),c=cc._decorator,i=c.ccclass,a=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.joyStick=null,e.boolFirstTouch=!1,e}return __extends(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchCancel,this)},e.prototype.TouchStart=function(t){if(!n.default.boolendG&&n.default.boolStartPlay){this.joyStick.opacity=255,this.boolFirstTouch||(this.boolFirstTouch=!0);var e=t.getLocation();e=this.node.convertToNodeSpaceAR(e),this.joyStick.position=e}},e.prototype.TouchMove=function(t){if(!n.default.boolendG&&n.default.boolStartPlay){this.joyStick.opacity=255;var e=t.getLocation();e=this.node.convertToNodeSpaceAR(e),this.joyStick.position=e}},e.prototype.TouchCancel=function(t){!n.default.boolendG&&n.default.boolStartPlay&&(this.joyStick.opacity=0)},__decorate([a(cc.Node)],e.prototype,"joyStick",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{"./Global":void 0}],CharacterController:[function(t,e,o){"use strict";cc._RF.push(e,"82548aJGZtHGJBbaG3sGTRp","CharacterController"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Common/Global"),c=t("../GamePlay/HAS2GamePlay"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ArrowDirection=null,e.JoyStickFollow=null,e.speed=250,e.clampLeftX=0,e.clampRightX=0,e.clampBottomY=0,e.clampTopY=0,e.originalSpeed=0,e.enemyFollow=null,e.PosEnemyFollowX=0,e.PosEnemyFollowZ=0,e.boolAttackCountDownDont=!1,e.boolPlaySoundFoot=!1,e.gameplayInstance=null,e}return __extends(e,t),e.prototype.start=function(){this.gameplayInstance=c.default.Instance(c.default),n.default.touchPos=cc.v2(0,0),this.originalSpeed=this.speed},e.prototype.update=function(t){if(n.default.boolEnableTouch&&!n.default.boolStartAttacking){this.node.x=cc.misc.clampf(this.node.x,this.clampLeftX,this.clampRightX),this.node.y=cc.misc.clampf(this.node.y,this.clampBottomY,this.clampTopY);var e=this.node.getPosition();e.y=this.node.z;var o=this.node.getPosition();o.y=this.node.z,e.addSelf(n.default.touchPos.mul(this.speed/100)),o.addSelf(n.default.touchPos.mul(-this.speed/100));var c=this.node.z;c=o.y,this.node.z=c,this.node.y=0,this.node.x=e.x;var i=180*Math.atan2(n.default.touchPos.y,n.default.touchPos.x)/Math.PI;i=360-i+90,this.node.is3DNode=!0,this.node.eulerAngles=new cc.Vec3(0,180-i,0)}this.FindEnemy(),this.KillEnemy()},e.prototype.FindEnemy=function(){for(var t=0;t<this.gameplayInstance.EnemyParent.childrenCount;t++)this.gameplayInstance.EnemyParent.childrenCount>0?(this.enemyFollow=this.gameplayInstance.EnemyParent.children[0],this.PosEnemyFollowX=this.enemyFollow.x,this.PosEnemyFollowZ=this.enemyFollow.z):(this.enemyFollow=null,this.ArrowDirection.active=!1)},e.prototype.KillEnemy=function(){if(this.gameplayInstance.EnemyParent.childrenCount>0){if(this.gameplayInstance.EnemyGreen.activeInHierarchy)Math.sqrt(Math.pow(this.gameplayInstance.EnemyGreen.x-this.node.x,2)+Math.pow(this.gameplayInstance.EnemyGreen.z-this.node.z,2))<80&&!this.boolAttackCountDownDont&&(this.boolAttackCountDownDont=!0,n.default.boolStartAttacking=!0,this.StartAttack(this.gameplayInstance.EnemyGreen));if(this.gameplayInstance.EnemyOrange.activeInHierarchy)Math.sqrt(Math.pow(this.gameplayInstance.EnemyOrange.x-this.node.x,2)+Math.pow(this.gameplayInstance.EnemyOrange.z-this.node.z,2))<80&&!this.boolAttackCountDownDont&&(this.boolAttackCountDownDont=!0,n.default.boolStartAttacking=!0,this.StartAttack(this.gameplayInstance.EnemyOrange))}},e.prototype.StartAttack=function(t){var e=this;n.default.boolEnableTouch=!1,this.JoyStickFollow.children[1].setPosition(this.JoyStickFollow.children[0].getPosition()),this.node.getComponent(cc.SkeletonAnimation).play("Attack"),cc.audioEngine.playEffect(n.default.soundAttack,!1),this.scheduleOnce(function(){t.destroy()},.5),this.scheduleOnce(function(){n.default.boolStartAttacking=!1,n.default.boolFirstTouchJoyStick=!1,e.boolAttackCountDownDont=!1,e.node.getComponent(cc.SkeletonAnimation).play("Take 001")},2)},__decorate([r(cc.Node)],e.prototype,"ArrowDirection",void 0),__decorate([r(cc.Node)],e.prototype,"JoyStickFollow",void 0),__decorate([r(Number)],e.prototype,"speed",void 0),__decorate([r(Number)],e.prototype,"clampLeftX",void 0),__decorate([r(Number)],e.prototype,"clampRightX",void 0),__decorate([r(Number)],e.prototype,"clampBottomY",void 0),__decorate([r(Number)],e.prototype,"clampTopY",void 0),e=__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Common/Global":void 0,"../GamePlay/HAS2GamePlay":"HAS2GamePlay"}],CharacterControl:[function(t,e,o){"use strict";cc._RF.push(e,"4bd92Fx8KJPC4B89///v1ev","CharacterControl"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Scenes/test_1/script/Controller"),c=t("../Scenes/test_1/script/Global"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Joystick=null,e.GunHand=null,e.FirstPersonCam=null,e.muzzleEffect=null,e.minYAngle=-70,e.maxYAngle=40,e.minZAngle=-70,e.maxZAngle=40,e.isZoom=!1,e.panMod=2,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){null==o.instance&&(o.instance=this),c.default.posY_player=this.node.y},e.prototype.onDestroy=function(){},e.prototype.start=function(){this.node.is3DNode=!0},e.prototype.update=function(t){if(!(this.Joystick.dir.mag()<.6)){var e=this.Joystick.dir.normalize(),o=e.x,n=e.y,c=new cc.Vec3;c=this.isZoom?new cc.Vec3(this.node.eulerAngles.x,this.node.eulerAngles.y-o*this.panMod/4,this.node.eulerAngles.z+n*this.panMod/4):new cc.Vec3(this.node.eulerAngles.x,this.node.eulerAngles.y-o/2,this.node.eulerAngles.z+n/2);var i=new cc.Vec3(this.node.eulerAngles.x,this.minYAngle,this.minZAngle),a=new cc.Vec3(this.node.eulerAngles.x,this.maxYAngle,this.maxZAngle);(c=c.clampf(i,a)).z<=i.z||c.y<=i.y||c.z>=a.z||c.y>=a.y||(this.node.eulerAngles=c)}},e.prototype.ModularClamp=function(t,e,o,n,c){void 0===n&&(n=-180),void 0===c&&(c=180);var i=Math.abs(c-n);return(t%=i)<0&&(t+=i),cc.misc.clampf(t+Math.min(n,c),e,o)},e.prototype.hideGun=function(){this.GunHand.active=!1},e.prototype.showGun=function(){this.GunHand.active=!0},e.instance=null,__decorate([r(n.default)],e.prototype,"Joystick",void 0),__decorate([r(cc.Node)],e.prototype,"GunHand",void 0),__decorate([r(cc.Node)],e.prototype,"FirstPersonCam",void 0),__decorate([r(cc.Node)],e.prototype,"muzzleEffect",void 0),__decorate([r()],e.prototype,"minYAngle",void 0),__decorate([r()],e.prototype,"maxYAngle",void 0),__decorate([r()],e.prototype,"minZAngle",void 0),__decorate([r()],e.prototype,"maxZAngle",void 0),e=o=__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Scenes/test_1/script/Controller":"Controller","../Scenes/test_1/script/Global":"Global"}],Controller:[function(t,e,o){"use strict";cc._RF.push(e,"64d8ba7Gi5M9rj7H2QI/d+B","Controller"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Joystick=null,e.Max_r=100,e}return __extends(e,t),e.prototype.onTouchStart=function(t){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e),n=o.mag();this.dir.x=o.x/n,this.dir.y=o.y/n,n>this.Max_r&&(o.x=this.Max_r*o.x/n,o.y=this.Max_r*o.y/n),this.Joystick.setPosition(o)},e.prototype.onTouchMove=function(t){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e),n=o.mag();this.dir.x=o.x/n,this.dir.y=o.y/n,n>this.Max_r&&(o.x=this.Max_r*o.x/n,o.y=this.Max_r*o.y/n),this.Joystick.setPosition(o)},e.prototype.onTouchEnd=function(t){this.Joystick.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0)},e.prototype.onTouchCancel=function(t){this.Joystick.setPosition(cc.v2(0,0)),this.dir=cc.v2(0,0)},e.prototype.start=function(){this.Joystick.x=0,this.Joystick.y=0,this.dir=cc.v2(0,0),this.Joystick.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.Joystick.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.Joystick.on(cc.Node.EventType.TOUCH_END,this.onTouchCancel,this),this.Joystick.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},__decorate([i(cc.Node)],e.prototype,"Joystick",void 0),__decorate([i()],e.prototype,"Max_r",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],CountdownUI:[function(t,e,o){"use strict";cc._RF.push(e,"eb9a7yUPo1DUK7F0fb+3J8u","CountdownUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../UIManager"),c=cc._decorator,i=c.ccclass,a=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countdownText=null,e.startTime=30,e.currentTime=0,e.off_node=[],e}return __extends(e,t),e.prototype.start=function(){this.currentTime=this.startTime,this.startCountdown()},e.prototype.startCountdown=function(){this.schedule(this.countDown,1)},e.prototype.secToText=function(t){var e="00:";return e+=t<=9?"0"+t.toString():t.toString()},e.prototype.countDown=function(){this.currentTime--,this.countdownText.string=this.secToText(this.currentTime),0==this.currentTime&&(this.currentTime=0,this.unschedule(this.countDown),this.onCountdownEnd())},e.prototype.onCountdownEnd=function(){n.default.instance.failureUI.active=!0;for(var t=0;t<3;t++)this.off_node[t].destroy();this.node.active=!1},__decorate([a(cc.Label)],e.prototype,"countdownText",void 0),__decorate([a],e.prototype,"startTime",void 0),__decorate([a(cc.Node)],e.prototype,"off_node",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{"../UIManager":"UIManager"}],EnableCollider:[function(t,e,o){"use strict";cc._RF.push(e,"6c5a0Hk83VJTK5jd3j6ETVC","EnableCollider"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){cc.view.enableAutoFullScreen(!1),cc.director.getCollisionManager().enabled=!0},e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],EnemyController:[function(t,e,o){"use strict";cc._RF.push(e,"f6c91/CvARBD7pBgZ4Eh3m2","EnemyController"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.speedRotate=.5,e.startRotateY=0,e}return __extends(e,t),e.prototype.start=function(){this.startRotateY=this.node.eulerAngles.y,this.RotateRandom()},e.prototype.RotateRandom=function(){var t=this;this.schedule(function(){Math.round(Math.random())<=.5?t.node.runAction(cc.sequence(cc.rotate3DTo(t.speedRotate,0,t.node.eulerAngles.y-40,0),cc.callFunc(function(){t.scheduleOnce(function(){t.node.runAction(cc.rotate3DTo(t.speedRotate,0,t.startRotateY,0))},1)}))):t.node.runAction(cc.sequence(cc.rotate3DTo(t.speedRotate,0,t.node.eulerAngles.y+40,0),cc.callFunc(function(){t.scheduleOnce(function(){t.node.runAction(cc.rotate3DTo(t.speedRotate,0,t.startRotateY,0))},1)})))},4,cc.macro.REPEAT_FOREVER,1)},__decorate([i(Number)],e.prototype,"speedRotate",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],FailureUI:[function(t,e,o){"use strict";cc._RF.push(e,"66e39sDsA9KbpN5t33kT9mK","FailureUI"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.winSize.height,e=cc.winSize.width;this.node.scale=t>e?.75:1},e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],FemaleAnimManager:[function(t,e,o){"use strict";cc._RF.push(e,"7837eW8x/xIwp0JFmFurijQ","FemaleAnimManager"),Object.defineProperty(o,"__esModule",{value:!0});var n,c=cc._decorator,i=c.ccclass,a=c.property;(function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run",t[t.Scare=2]="Scare"})(n=o.FemaleAnim||(o.FemaleAnim={}));var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Animator=null,e.FemaleIdle=null,e.FemaleScare=null,e.FemaleRun=null,e.runAnimDuration=4,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.Animator.addClip(this.FemaleIdle,"FemaleIdle"),this.Animator.addClip(this.FemaleRun,"FemaleRun"),this.Animator.addClip(this.FemaleScare,"FemaleScare"),cc.tween(this.node).to(this.runAnimDuration,{position:cc.v3(-2.351,.102,50)}).call(function(){t.playAnim(n.Scare)}).start(),this.playAnim(n.Run)},e.prototype.playAnim=function(t){switch(t){case n.Idle:this.Animator.play("FemaleIdle");break;case n.Run:this.Animator.play("FemaleRun");break;case n.Scare:this.Animator.play("FemaleScare")}},e.instance=null,__decorate([a(cc.SkeletonAnimation)],e.prototype,"Animator",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"FemaleIdle",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"FemaleScare",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"FemaleRun",void 0),__decorate([a],e.prototype,"runAnimDuration",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],Global:[function(t,e,o){"use strict";cc._RF.push(e,"e6adeLofgBMTKn+/MTU2E4B","Global"),Object.defineProperty(o,"__esModule",{value:!0});o.default={use_Skill:!1,posY_player:0,totalE:0},cc._RF.pop()},{}],GunAnimManager:[function(t,e,o){"use strict";cc._RF.push(e,"a5a5215tFJH/qp74HteBfw7","GunAnimManager"),Object.defineProperty(o,"__esModule",{value:!0});var n,c=cc._decorator,i=c.ccclass,a=c.property;(function(t){t[t.Idle=0]="Idle",t[t.Reload=1]="Reload",t[t.Shoot=2]="Shoot",t[t.Aim=3]="Aim"})(n=o.GunAnim||(o.GunAnim={}));var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gunIdle=null,e.gunReload=null,e.gunShoot=null,e.handIdle=null,e.handReload=null,e.handShoot=null,e.gunAnimator=null,e.handAnimator=null,e}return __extends(e,t),e.prototype.start=function(){this.gunAnimator.addClip(this.gunIdle,"GunIdle"),this.gunAnimator.addClip(this.gunReload,"GunReload"),this.gunAnimator.addClip(this.gunShoot,"GunShoot"),this.handAnimator.addClip(this.handIdle,"HandIdle"),this.handAnimator.addClip(this.gunIdle,"HandReload"),this.handAnimator.addClip(this.gunIdle,"HandShoot"),this.playAnim(n.Idle)},e.prototype.playAnim=function(t){switch(t){case n.Idle:this.handAnimator.play("HandIdle");break;case n.Reload:this.gunAnimator.play("GunReload"),this.handAnimator.play("HandReload");break;case n.Shoot:this.gunAnimator.play("GunShoot"),this.handAnimator.play("HandShoot")}},__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"gunIdle",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"gunReload",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"gunShoot",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"handIdle",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"handReload",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"handShoot",void 0),__decorate([a(cc.SkeletonAnimation)],e.prototype,"gunAnimator",void 0),__decorate([a(cc.SkeletonAnimation)],e.prototype,"handAnimator",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],HAS2GamePlay:[function(t,e,o){"use strict";cc._RF.push(e,"f2d3cwm6TlIlpoH/RrcnryW","HAS2GamePlay"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../CharacterController/CharacterController"),c=t("../Common/Global"),i=t("../Common/Singleton"),a=cc._decorator,r=a.ccclass,s=a.property,l=function(){function t(){this.ChooseCharacter=null,this.ChooseModel=null}return __decorate([s(cc.Node)],t.prototype,"ChooseCharacter",void 0),__decorate([s(cc.Node)],t.prototype,"ChooseModel",void 0),t=__decorate([r("ChooseHAS2")],t)}();o.ChooseHAS2=l;var d=function(t){function e(){var e=t.call(this)||this;return e.chooseHAS2=null,e.CharacterSpider=null,e.CharacteJackson=null,e.EnemyParent=null,e.EnemyGreen=null,e.EnemyOrange=null,e.iconEatGreen=null,e.iconEatOrange=null,e.handGuide=null,e.JoyStick=null,e.NightEnd=null,e.CircleEnd=null,e.btnAll=null,e.SpawnerMap2=null,e.BtnDown=null,e.MyCharacter=null,e.boolCheckEndGame=!1,e.ironsource=!1,e.mindworks=!1,e.boolFirstInteraction=!1,o._instance=e,e}var o;return __extends(e,t),o=e,e.prototype.start=function(){"CanvasHAS2"==this.node.name&&cc.audioEngine.playEffect(c.default.soundBG,!0)},e.prototype.update=function(){var t=this;0!=this.EnemyParent.childrenCount||this.boolCheckEndGame||(this.boolCheckEndGame=!0,this.JoyStick.destroy(),this.MyCharacter.getComponent(cc.SkeletonAnimation).play("Victory"),c.default.boolEnableTouch=!1,this.MyCharacter.getComponent(n.default).ArrowDirection.active=!1,c.default.boolendG=!0,this.scheduleOnce(function(){t.NightEnd.active=!0,t.scheduleOnce(function(){t.MyCharacter.active=!1,t.CircleEnd.active=!0,t.scheduleOnce(function(){t.NightEnd.active=!1,t.CircleEnd.active=!1,t.EndGame()},.6)},.4)},1.1))},e.prototype.ClickChooseSpider=function(){this.CustomCharacter(this.CharacterSpider,this.CharacteJackson)},e.prototype.ClickChooseJackson=function(){this.CustomCharacter(this.CharacteJackson,this.CharacterSpider)},e.prototype.CustomCharacter=function(t,e){this.boolFirstInteraction||(this.ironsource&&window.NUC.trigger.interaction(),this.boolFirstInteraction=!0),this.chooseHAS2.ChooseModel.destroy(),this.chooseHAS2.ChooseCharacter.destroy(),this.MyCharacter=t,this.MyCharacter.active=!0,c.default.boolStartPlay=!0,this.handGuide.active=!0,this.EnemyGreen.active=!0,this.EnemyOrange.active=!0,this.iconEatGreen.active=!0,this.iconEatOrange.active=!0,e.destroy()},e.prototype.EndGame=function(){"CanvasHAS2gg"==this.node.name&&(this.BtnDown.active=!0),this.btnAll.active=!0,this.MyCharacter.x=250.073,this.MyCharacter.z=616.286,this.MyCharacter.eulerAngles=new cc.Vec3(0,180,0),this.MyCharacter.getComponent(cc.SkeletonAnimation).play("Take 001"),this.MyCharacter.active=!0,this.SpawnerMap2.active=!0,this.handGuide.active=!0,this.mindworks&&window.gameEnd&&window.gameEnd(),this.ironsource&&window.NUC.trigger.endGame("win"),cc.audioEngine.stopAll()},__decorate([s(l)],e.prototype,"chooseHAS2",void 0),__decorate([s(cc.Node)],e.prototype,"CharacterSpider",void 0),__decorate([s(cc.Node)],e.prototype,"CharacteJackson",void 0),__decorate([s(cc.Node)],e.prototype,"EnemyParent",void 0),__decorate([s(cc.Node)],e.prototype,"EnemyGreen",void 0),__decorate([s(cc.Node)],e.prototype,"EnemyOrange",void 0),__decorate([s(cc.Node)],e.prototype,"iconEatGreen",void 0),__decorate([s(cc.Node)],e.prototype,"iconEatOrange",void 0),__decorate([s(cc.Node)],e.prototype,"handGuide",void 0),__decorate([s(cc.Node)],e.prototype,"JoyStick",void 0),__decorate([s(cc.Node)],e.prototype,"NightEnd",void 0),__decorate([s(cc.Node)],e.prototype,"CircleEnd",void 0),__decorate([s(cc.Node)],e.prototype,"btnAll",void 0),__decorate([s(cc.Node)],e.prototype,"SpawnerMap2",void 0),__decorate([s(cc.Node)],e.prototype,"BtnDown",void 0),e=o=__decorate([r],e)}(i.default);o.default=d,cc._RF.pop()},{"../CharacterController/CharacterController":"CharacterController","../Common/Global":void 0,"../Common/Singleton":"Singleton"}],ItemControll:[function(t,e,o){"use strict";cc._RF.push(e,"f48fcDeR/RM1bg8wFv6pRXo","ItemControll"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],JoyCam:[function(t,e,o){"use strict";cc._RF.push(e,"37eff4M9T9EdoHtrIGXivEK","JoyCam"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scopeCam=null,e.touchLocation=null,e.stickPos=null,e}return __extends(e,t),e.prototype.start=function(){cc.director.getCollisionManager().enabled=!0,this.node.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchCancel,this)},e.prototype.update=function(){},e.prototype.TouchStart=function(t){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);this.stickPos=o,this.touchLocation=t.getLocation()},e.prototype.TouchMove=function(t){if(this.touchLocation===t.getLocation())return!1;var e=this.touchLocation,o=(e.mag(),this.stickPos.x+e.x),n=this.stickPos.y+e.y,c=cc.v2(o,n).sub(this.touchLocation).normalize(),i=cc.v2(this.scopeCam.position.x+c.x,this.scopeCam.position.y+c.y);this.scopeCam.setPosition(i)},e.prototype.TouchCancel=function(t){},__decorate([i(cc.Node)],e.prototype,"scopeCam",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],JoystickFollow:[function(t,e,o){"use strict";cc._RF.push(e,"40e93UkeFFEl7kWwNkeW9Pg","JoystickFollow"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("../Common/Global"),c=t("../GamePlay/HAS2GamePlay"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.joyRing=null,e.joyDot=null,e.stickPos=null,e.touchLocation=null,e.radius=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.radius=this.joyRing.width/2},e.prototype.start=function(){this.gameplayInstance=c.default.Instance(c.default),this.node.on(cc.Node.EventType.TOUCH_START,this.TouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.TouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchCancel,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.TouchCancel,this)},e.prototype.TouchStart=function(t){if(!n.default.boolendG&&n.default.boolStartPlay&&!n.default.boolStartAttacking){var e=t.getLocation(),o=this.node.convertToNodeSpaceAR(e);this.node.opacity=255,this.stickPos=o,this.touchLocation=t.getLocation(),this.joyRing.setPosition(o),this.joyDot.setPosition(o),this.gameplayInstance.handGuide.active=!1}},e.prototype.TouchMove=function(t){if(!n.default.boolendG&&n.default.boolStartPlay&&!n.default.boolStartAttacking){if(n.default.boolEnableTouch=!0,n.default.boolFirstTouchJoyStick||(n.default.boolFirstTouchJoyStick=!0,this.gameplayInstance.MyCharacter.getComponent(cc.SkeletonAnimation).play("Run")),this.touchLocation===t.getLocation())return!1;var e=this.joyRing.convertToNodeSpaceAR(t.getLocation()),o=e.mag(),c=this.stickPos.x+e.x,i=this.stickPos.y+e.y,a=cc.v2(c,i).sub(this.joyRing.getPosition()).normalize();if(n.default.touchPos=a,this.radius>o)this.joyDot.setPosition(cc.v2(c,i));else{var r=this.stickPos.x+a.x*this.radius,s=this.stickPos.y+a.y*this.radius;this.joyDot.setPosition(cc.v2(r,s))}}},e.prototype.TouchCancel=function(t){n.default.boolendG||!n.default.boolStartPlay||n.default.boolStartAttacking||(n.default.boolEnableTouch=!1,this.joyDot.setPosition(this.joyRing.getPosition()),this.node.opacity=0,this.gameplayInstance.MyCharacter.getComponent(cc.SkeletonAnimation).play("Take 001"),n.default.boolFirstTouchJoyStick=!1)},__decorate([r(cc.Node)],e.prototype,"joyRing",void 0),__decorate([r(cc.Node)],e.prototype,"joyDot",void 0),e=__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"../Common/Global":void 0,"../GamePlay/HAS2GamePlay":"HAS2GamePlay"}],ModelCollision:[function(t,e,o){"use strict";cc._RF.push(e,"68cf6PJq/1BBqJdyHAVt11d","ModelCollision"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],PlatformBtn:[function(t,e,o){"use strict";cc._RF.push(e,"4ceb6uvT0xPb6zZVCVa6//O","PlatformBtn"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.androidSprites=null,e.iosSprites=null,e}return __extends(e,t),e.prototype.start=function(){cc.sys.os==cc.sys.OS_ANDROID?this.getComponent(cc.Sprite).spriteFrame=this.androidSprites:cc.sys.os==cc.sys.OS_IOS&&(this.getComponent(cc.Sprite).spriteFrame=this.iosSprites)},__decorate([i(cc.SpriteFrame)],e.prototype,"androidSprites",void 0),__decorate([i(cc.SpriteFrame)],e.prototype,"iosSprites",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],ScopeResolution:[function(t,e,o){"use strict";cc._RF.push(e,"0f162S+ggRJcbqTMYL4GkiP","ScopeResolution"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=n.property,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scopeHor=null,e.scopeVer=null,e.scopeSprite=null,e}return __extends(e,t),e.prototype.onLoad=function(){if(cc.winSize.height>cc.winSize.width)this.scopeSprite.spriteFrame=this.scopeVer;else{this.scopeSprite.spriteFrame=this.scopeHor;var t=this.scopeSprite.node.getComponent(cc.Widget);t.left=t.right=t.top=t.bottom=0}},__decorate([i(cc.SpriteFrame)],e.prototype,"scopeHor",void 0),__decorate([i(cc.SpriteFrame)],e.prototype,"scopeVer",void 0),__decorate([i(cc.Sprite)],e.prototype,"scopeSprite",void 0),e=__decorate([c],e)}(cc.Component);o.default=a,cc._RF.pop()},{}],Scope:[function(t,e,o){"use strict";cc._RF.push(e,"a3d53PnFWRIbp7fA1e7Bckd","Scope"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),c=cc._decorator,i=c.ccclass,a=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.update=function(){null!=n.default.touchPos&&(this.node.x=cc.misc.lerp(this.node.x,n.default.touchPos.x,.3),this.node.y=cc.misc.lerp(this.node.y,n.default.touchPos.y+20,.3))},e=__decorate([i],e)}(cc.Component));o.default=a,cc._RF.pop()},{"./Global":void 0}],Singleton:[function(t,e,o){"use strict";cc._RF.push(e,"4c2c2kCqxlD5ZF8AJwiPwvQ","Singleton"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.Instance=function(t){return null==this._instance&&(this._instance=new t),this._instance},e._instance=null,e}(cc.Component);o.default=n,cc._RF.pop()},{}],SoundManager:[function(t,e,o){"use strict";cc._RF.push(e,"064e9mUceNIwLjSyhOwIauC","SoundManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Global"),c=cc._decorator,i=c.ccclass,a=c.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Bg=null,e.footStep=null,e.Intro=null,e.Attack=null,e.Gate=null,e.Scream=null,e}return __extends(e,t),e.prototype.onLoad=function(){n.default.soundBG=this.Bg,n.default.soundIntro=this.Intro,n.default.soundFootStep=this.footStep,n.default.soundAttack=this.Attack,n.default.soundGate=this.Gate,n.default.soundScream=this.Scream},__decorate([a({type:cc.AudioClip})],e.prototype,"Bg",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"footStep",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"Intro",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"Attack",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"Gate",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"Scream",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{"./Global":void 0}],TapUIText:[function(t,e,o){"use strict";cc._RF.push(e,"fc1e4OangpDNJhckMPL85/w","TapUIText"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.winSize.height,e=cc.winSize.width;if(t>e){var o=.45*e;this.node.position=new cc.Vec3(-e/2+o,this.node.position.y,this.node.position.z),this.node.scale=.7}else{o=.22*e;this.node.position=new cc.Vec3(-e/2+o,this.node.position.y,this.node.position.z),this.node.scale=1}},e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],UIManager:[function(t,e,o){"use strict";cc._RF.push(e,"46b0bTLdwJE452jouKHKNEv","UIManager"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CharacterControl"),c=t("../Scenes/test_1/script/Controller"),i=t("./UI Script/TapUIText"),a=t("./UI Script/ZoomUIText"),r=cc._decorator,s=r.ccclass,l=r.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gunScope=null,e.zoomSlider=null,e.shootButton=null,e.dragText=null,e.dragZoomText=null,e.tapText=null,e.canvas=null,e.joyStick=null,e.failureUI=null,e.countdownUI=null,e.joyStickControl=null,e.isClicked=!1,e}var o;return __extends(e,t),o=e,e.prototype.onLoad=function(){null==o.instance&&(o.instance=this),this.tapText.getComponent(i.default).onLoad(),this.dragZoomText.getComponent(a.default).onLoad()},e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this),this.toggleUI(!1)},e.prototype.toggleUI=function(t){this.zoomSlider.node.active=t,this.shootButton.node.active=t,this.gunScope.active=t},e.prototype.onTouchStart=function(t){n.default.instance.isZoom||this.isClicked||(this.isClicked=!0,o.instance.zoomSlider.progress=.05,o.instance.toggleUI(!0),this.gunScope.active=!0,n.default.instance.hideGun(),n.default.instance.isZoom=!0,this.dragText.active=!1,this.dragZoomText.active=!0);var e=this.node.convertToNodeSpaceAR(new cc.Vec3(t.getLocation().x,t.getLocation().y,0));this.joyStick.position=e,this.joyStickControl.onTouchStart(t)},e.prototype.onTouchMove=function(t){this.joyStickControl.onTouchMove(t)},e.prototype.onTouchEnd=function(t){this.joyStickControl.onTouchEnd(t)},e.prototype.onTouchCancel=function(t){this.joyStickControl.onTouchCancel(t)},e.instance=null,__decorate([l(cc.Node)],e.prototype,"gunScope",void 0),__decorate([l(cc.Slider)],e.prototype,"zoomSlider",void 0),__decorate([l(cc.Button)],e.prototype,"shootButton",void 0),__decorate([l(cc.Node)],e.prototype,"dragText",void 0),__decorate([l(cc.Node)],e.prototype,"dragZoomText",void 0),__decorate([l(cc.Node)],e.prototype,"tapText",void 0),__decorate([l(cc.Node)],e.prototype,"canvas",void 0),__decorate([l(cc.Node)],e.prototype,"joyStick",void 0),__decorate([l(cc.Node)],e.prototype,"failureUI",void 0),__decorate([l(cc.Node)],e.prototype,"countdownUI",void 0),__decorate([l(c.default)],e.prototype,"joyStickControl",void 0),e=o=__decorate([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Scenes/test_1/script/Controller":"Controller","./CharacterControl":"CharacterControl","./UI Script/TapUIText":"TapUIText","./UI Script/ZoomUIText":"ZoomUIText"}],ZombieAnimManager:[function(t,e,o){"use strict";cc._RF.push(e,"c3cf5W4L8JPQ5nAPE4YXXpz","ZombieAnimManager"),Object.defineProperty(o,"__esModule",{value:!0});var n,c=cc._decorator,i=c.ccclass,a=c.property;(function(t){t[t.Idle=0]="Idle",t[t.Run=1]="Run"})(n=o.ZomAnim||(o.ZomAnim={}));var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Animator=null,e.ZomIdle=null,e.ZomRun=null,e.runAnimDuration=40,e}return __extends(e,t),e.prototype.start=function(){var t=this;this.Animator.addClip(this.ZomIdle,"ZomIdle"),this.Animator.addClip(this.ZomRun,"ZomRun"),cc.tween(this.node).to(this.runAnimDuration,{position:cc.v3(-2.222,.102,35)}).call(function(){t.playAnim(n.Idle)}).start(),this.playAnim(n.Run)},e.prototype.playAnim=function(t){switch(t){case n.Idle:this.Animator.play("ZomIdle");break;case n.Run:this.Animator.play("ZomRun")}},e.instance=null,__decorate([a(cc.SkeletonAnimation)],e.prototype,"Animator",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"ZomIdle",void 0),__decorate([a(cc.SkeletonAnimationClip)],e.prototype,"ZomRun",void 0),__decorate([a],e.prototype,"runAnimDuration",void 0),e=__decorate([i],e)}(cc.Component);o.default=r,cc._RF.pop()},{}],ZoomSlider:[function(t,e,o){"use strict";cc._RF.push(e,"49f37YxeYJLWKkOgLgXR5+G","ZoomSlider"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./CharacterControl"),c=t("./GunAnimManager"),i=t("./GunAnimManager"),a=t("./UIManager"),r=cc._decorator,s=r.ccclass,l=r.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.zoomSlider=null,e.mainCam=null,e.gunAnimManager=null,e.gunScope=null,e.shootAnimDuration=1,e.minFOV=20,e.maxFOV=40,e}return __extends(e,t),e.prototype.start=function(){cc.director.getWinSizeInPixels().height>cc.director.getWinSizeInPixels().width?this.node.scale=.8:this.node.scale=1,this.maxFOV=this.mainCam.fov},e.prototype.update=function(t){},e.prototype.playAimAnim=function(){this.zoomSlider.progress>0?(a.default.instance.dragZoomText.active=!1,a.default.instance.tapText.active=!0,n.default.instance.isZoom||(n.default.instance.isZoom=!0,this.scheduleOnce(function(){a.default.instance.gunScope.active=!0,n.default.instance.hideGun()},this.shootAnimDuration))):this.zoomSlider.progress<=0&&n.default.instance.isZoom&&(a.default.instance.gunScope.active=!1,n.default.instance.isZoom=!1,n.default.instance.showGun())},e.prototype.playShootAnim=function(){this.gunAnimManager.playAnim(i.GunAnim.Shoot)},e.prototype.setCamFOV=function(){var t=this.maxFOV-this.minFOV,e=this.zoomSlider.progress,o=this.maxFOV-t*e;n.default.instance.panMod=1/(this.maxFOV/o),this.mainCam.fov=o},e.prototype.modifyFOV=function(){this.mainCam.fov+=10},__decorate([l(cc.Slider)],e.prototype,"zoomSlider",void 0),__decorate([l(cc.Camera)],e.prototype,"mainCam",void 0),__decorate([l(c.default)],e.prototype,"gunAnimManager",void 0),__decorate([l(cc.Node)],e.prototype,"gunScope",void 0),__decorate([l],e.prototype,"shootAnimDuration",void 0),__decorate([l],e.prototype,"minFOV",void 0),__decorate([l],e.prototype,"maxFOV",void 0),e=__decorate([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./CharacterControl":"CharacterControl","./GunAnimManager":"GunAnimManager","./UIManager":"UIManager"}],ZoomUIText:[function(t,e,o){"use strict";cc._RF.push(e,"4212306W0FI9Y0xKn5mnsZQ","ZoomUIText"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,c=n.ccclass,i=(n.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){var t=cc.winSize.height,e=cc.winSize.width;if(t>e){var o=.35*e,n=.46*t;this.node.position=new cc.Vec3(-e/2+o,-t/2+n,this.node.position.z),this.node.scale=.6}else{o=.2*e,n=.4*t;this.node.position=new cc.Vec3(-e/2+o,-t/2+n,this.node.position.z),this.node.scale=1}},e=__decorate([c],e)}(cc.Component));o.default=i,cc._RF.pop()},{}],gun:[function(t,e,o){"use strict";cc._RF.push(e,"c394eH0CqZPP7DaoKkOqQpS","gun"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./Controller"),c=t("./Global"),i=cc._decorator,a=i.ccclass,r=i.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.Joystick=null,e.speed=100,e.temp=0,e}return __extends(e,t),e.prototype.onLoad=function(){c.default.posY_player=this.node.y},e.prototype.update=function(t){if(!(this.Joystick.dir.mag()<.5)){var e=180*Math.atan2(this.Joystick.dir.y,this.Joystick.dir.x)/Math.PI;e>=-90&&e<=90&&(this.node.rotationY=450),(e>90&&e<=180||e>=-180&&e<-90)&&(this.node.rotationY=270),e=360-e+90,this.node.rotationY=e}},__decorate([r(n.default)],e.prototype,"Joystick",void 0),__decorate([r],e.prototype,"speed",void 0),e=__decorate([a],e)}(cc.Component);o.default=s,cc._RF.pop()},{"./Controller":"Controller","./Global":"Global"}],linkStore:[function(t,e,o){"use strict";cc._RF.push(e,"a562fb+ac5FI5Qmrng/zZZb","linkStore"),cc.Class({extends:cc.Component,properties:{androidLink:{default:""},iosLink:{default:""},defaultLink:{default:""}},openAdUrl:function(){window.androidLink=this.androidLink,window.iosLink=this.iosLink,window.defaultLink=this.defaultLink,window.openAdUrl?window.openAdUrl():window.open()}}),cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(t,e,o){"use strict";cc._RF.push(e,"6478cw+RfNDn49pQCb4S1/j","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["Controller","Global","gun","CameraFollow","CharacterController","AdManager","CanvasTouch","EnableCollider","PlatformBtn","Singleton","SoundManager","AIEnemy","AIEnemyMoveTo","EnemyController","HAS2GamePlay","ItemControll","JoystickFollow","ModelCollision","use_v2.1-2.2.1_cc.Toggle_event","BulletAnimEvent","BulletCameraFollow","BulletControl","CanvasTouchManager","CharacterControl","FemaleAnimManager","GunAnimManager","JoyCam","Scope","ScopeResolution","CountdownUI","FailureUI","TapUIText","ZoomUIText","UIManager","ZombieAnimManager","ZoomSlider","linkStore"]);